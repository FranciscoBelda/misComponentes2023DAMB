<app-header titulo="{{title}}"></app-header>

<ion-content>
  <ion-item>
    <ion-checkbox mode="ios" slot="end" color="danger"
                  labelPlacement="start"
                  [(ngModel)]="multiple">Multiple</ion-checkbox>
  </ion-item>
  <ion-item>
    <ion-input label="Item text field"
               labelPlacement="floating"
               [(ngModel)]="itemTextField"></ion-input>
  </ion-item>
  <ion-item (click)="open()">
    <ion-label>Select User</ion-label>

    <div *ngIf="selected.length; else placeholder">
<span *ngFor="let item of selected; let last = last">
{{ leaf(item)}}{{ last ? "" : ", " }}
</span>
    </div>

    <ng-template #placeholder>Select</ng-template>

    <ion-modal [isOpen]="isOpen">
      <ng-template>
        <ion-header>
          <ion-toolbar color="primary">
            <ion-buttons slot="start">

              <ion-button

                (click)="cancel()">Cancel</ion-button>

            </ion-buttons>

            <ion-title class="ion-text-center">{{ title

              }}</ion-title>

            <ion-buttons slot="end">

              <ion-button

                (click)="confirm()">Confirm</ion-button>

            </ion-buttons>
          </ion-toolbar>
          <ion-toolbar>

            <ion-searchbar
              (ionInput)="filter($event)"></ion-searchbar>
          </ion-toolbar>
        </ion-header>
        <ion-content>

          <ion-item *ngFor="let item of filtered"

                    (click)="itemSelected(item)">

            <ion-checkbox
                          labelPlacement="start"
                          mode="ios"

                          [(ngModel)]="item.selected">{{ leaf(item) }}</ion-checkbox>


          </ion-item>
        </ion-content>
      </ng-template>
    </ion-modal>
  </ion-item>
</ion-content>
